{% extends "base.html" %}
{% block content %}

<div class="container-fluid">
    <div class="modern-card">
        <div class="card-header description-section">
            <h1 class="card-title">
                <i class="fas fa-database me-3"></i>
                ODS Actions
            </h1>
            <p class="card-subtitle">Document Management System - Simple Interface</p>
        </div>
        
        <div class="card-body">
            <ul class="nav nav-tabs modern-nav-tabs" id="mainTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="display-tab" data-bs-toggle="tab" data-bs-target="#display" type="button" role="tab" aria-controls="display" aria-selected="true">
                        <i class="fas fa-eye me-2"></i>
                        Display Metadata
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="create-update-tab" data-bs-toggle="tab" data-bs-target="#create-update" type="button" role="tab" aria-controls="create-update" aria-selected="false">
                        <i class="fas fa-edit me-2"></i>
                        Create/Update Metadata
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="send-files-tab" data-bs-toggle="tab" data-bs-target="#send-files" type="button" role="tab" aria-controls="send-files" aria-selected="false">
                        <i class="fas fa-upload me-2"></i>
                        Send Files
                    </button>
                </li>
            </ul>
            
            <div class="tab-content mt-4">
                <!-- Display Tab -->
                <div class="tab-pane fade show active" id="display" role="tabpanel" aria-labelledby="display-tab">
                    <div class="modern-controls-section">
                        <div class="row">
                            <div class="col-12">
                                <label for="displaySymbols" class="form-label-modern">Document Symbols</label>
                                <textarea id="displaySymbols" class="form-control-modern" rows="4" placeholder="Paste the list of symbols here (space separated)"></textarea>
                            </div>
                        </div>
                        <div class="modern-button-group mt-3">
                            <button class="btn-modern btn-primary-modern" type="button" id="toggleButton">
                                <i class="fas fa-search me-2"></i>
                                Apply
                            </button>
                        </div>
                    </div>
                    
                    <div class="modern-table-container" id="displayResults" style="display: none;">
                        <table id="myTable" class="modern-responsive-table">
                            <thead>
                                <tr>
                                    <th>Document Symbol</th>
                                    <th>Job Number</th>
                                    <th>Title</th>
                                    <th>Publication Date</th>
                                    <th>File Language(s)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>S/SUPP/1946/1st</td>
                                    <td>NL3961100 NL3961101 NL3961102 NL3961103 NL3961104 NL3961105</td>
                                    <td>Bulletin on action by the...</td>
                                    <td>22/03/2023 23:35</td>
                                    <td>[]</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Create/Update Tab -->
                <div class="tab-pane fade" id="create-update" role="tabpanel" aria-labelledby="create-update-tab">
                    <div class="modern-controls-section">
                        <div class="row">
                            <div class="col-12">
                                <label for="createSymbols" class="form-label-modern">Document Symbols</label>
                                <textarea id="createSymbols" class="form-control-modern" rows="4" placeholder="Paste the list of symbols here (space separated)"></textarea>
                            </div>
                        </div>
                        <div class="modern-button-group mt-3">
                            <button class="btn-modern btn-success-modern" type="button">
                                <i class="fas fa-paper-plane me-2"></i>
                                Send
                            </button>
                        </div>
                    </div>
                    
                    <div class="modern-table-container">
                        <table class="modern-responsive-table">
                            <thead>
                                <tr>
                                    <th>Document Symbol</th>
                                    <th>Result</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>S/SUPP/1946/1st</td>
                                    <td>Issue occurred during update. Please try again after sometime.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="modern-action-buttons">
                        <button type="button" class="btn-modern btn-secondary-modern">Clear List</button>
                        <button type="button" class="btn-modern btn-info-modern">Export to CSV</button>
                    </div>
                </div>
                
                <!-- Send Files Tab -->
                <div class="tab-pane fade" id="send-files" role="tabpanel" aria-labelledby="send-files-tab">
                    <div class="modern-controls-section">
                        <div class="row">
                            <div class="col-12">
                                <label for="sendSymbols" class="form-label-modern">Document Symbols</label>
                                <textarea id="sendSymbols" class="form-control-modern" rows="4" placeholder="Paste the list of symbols here (space separated)"></textarea>
                            </div>
                        </div>
                        <div class="modern-button-group mt-3">
                            <button class="btn-modern btn-success-modern" type="button">
                                <i class="fas fa-upload me-2"></i>
                                Send
                            </button>
                        </div>
                    </div>
                    
                    <div class="modern-table-container">
                        <table class="modern-responsive-table">
                            <thead>
                                <tr>
                                    <th>Job Number</th>
                                    <th>Result</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>NL3961100</td>
                                    <td>Failed to upload somefiles -[G2303511.pdf]|Input:-</td>
                                </tr>
                                <tr>
                                    <td>NL3961101</td>
                                    <td>Success. The files were created/updated in ODS.</td>
                                </tr>
                                <tr>
                                    <td>NL3961102</td>
                                    <td>There was a user authentication error.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="modern-action-buttons">
                        <button type="button" class="btn-modern btn-secondary-modern">Clear List</button>
                        <button type="button" class="btn-modern btn-info-modern">Export to CSV</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('toggleButton').addEventListener('click', function() {
    const table = document.getElementById('myTable');
    const results = document.getElementById('displayResults');
    
    if (table.classList.contains('hidden')) {
        table.classList.remove('hidden');
        results.style.display = 'block';
    } else {
        table.classList.add('hidden');
        results.style.display = 'none';
    }
});
</script>

{% endblock %}